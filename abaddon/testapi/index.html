<!DOCTYPE HTML>
<!--
	Astral by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<style>
	body
	{
		background-image:url("https://mathrjsm.com/capture.png")
	}

	form ::-webkit-input-placeholder 
	{
		color: black;
	}

	form :-moz-placeholder 
	{
		color: black;
	}

	form ::-moz-placeholder 
	{
		color: black;
	}

	form :-ms-input-placeholder 
	{
		color: black;
	}
	a 
	{
    color:#C86BC6;  
	}


</style>
<html>
	<head>
		<title>Habitica API call tester</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<link rel="shortcut icon" type="image/x-icon" href="torus (2).ico" />
	</head>
	<body style="padding:25px">
    <header><h1>
    <font color="darkorchid">Habitica API call tester</font>
    </h1></header>
    
    <p style="color:white">
    You can use the form below to test simple API calls. Use the <font color="darkorchid"><a href = "https://habitica.com/apidoc/">Habitica V3 API Documentation</a></font> for instructions on how to do this. 




    </p>
    <form onsubmit="habiticaAPIcall();return false;" style = "color:black;padding-left:25px;width:50%;height:25%;">
        <select name="Method" id = method style="color:black;height:28px;padding-top:0;padding-bottom:0;padding-left:5">
  <option value="get">GET</option>
  <option value="post">POST</option>
  <option value="put">PUT</option>
</select>
</select>
        <input id="path" type="text" autocomplete="on" name="path" placeholder="URL  (the hole thing, as in documentation)" style="color:black;width: 100%;height:25px"/><br><br>  
        <input id="userid" type="text" autocomplete="on" name="userid" placeholder = "User ID" style="color:black;width: 100%;height:25px"/><br>
        <input id="userkey" type="password" autocomplete="on" name="userkey" placeholder = "User Key"  style="color:black;width: 100%;height:25px"/><br>    <br>
        <input id="body" type="text" autocomplete="on" name="body" placeholder = 'Body (comma separated, ":param":"value")'style="color:black;width: 100%;height:25px"/><br><br>
        <input type="submit" value="fetch" style="color:orchid"/>

        <!--&emsp;<input type="reset"style="color:orchid">&emsp;<button id="button1" onclick="CopyToClipboard('return')">Click to copy</button>-->

    </form>
    <div  id = return style="padding:50px;background:rgba(5,5,5,0.75);word-wrap: break-word">The output will be displayed here.</div>
</body>
</html>



<script>



function habiticaAPIcall() 
{	
	var method = document.forms[0].method.value;
	var route = document.forms[0].path.value;
	var id = document.forms[0].userid.value;
  var key = document.forms[0].userkey.value;
  var body = document.forms[0].body.value;
  
  var http = new XMLHttpRequest();
    http.open(method,route,false);
    http.setRequestHeader('Content-Type', 'application/json');
    http.setRequestHeader('x-api-user', id);
    http.setRequestHeader('x-api-key', key);
  if(body !== '')  
  {
  	body = '{' + body + '}'
  	body = JSON.stringify(body)
  	http.send(body);
  }  
  else                               
    http.send();
  document.getElementById("return").innerHTML = http.responseText;
}     


</script>
</html>